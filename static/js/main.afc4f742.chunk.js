(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(33)},23:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var o=n(0),u=n.n(o),a=n(13),c=n.n(a),r=(n(23),n(10)),i=n(14),s=(n(24),n(27),n(31),n(15)),f=n(16),l=n(17),m=n.n(l),p=n(38),b=n(36),v=n(37),d=new(function(){function e(){var t=this;Object(s.a)(this,e),this.noteUpdates=new p.a(null);this.componentManager=new m.a([{name:"stream-context-item"}],function(){}),this.componentManager.streamContextItem(function(e){t.noteUpdates.next(e)})}return Object(f.a)(e,[{key:"getNoteUpdates",value:function(){return this.noteUpdates.pipe(Object(b.a)(function(e){return e}))}},{key:"getNoteContentUpdates",value:function(){return this.getNoteUpdates().pipe(Object(v.a)(function(e){return e?e.content.text:null}))}},{key:"saveNote",value:function(e){var t=this;return new Promise(function(n){t.componentManager.saveItem(e,n)})}},{key:"saveNoteContent",value:function(e){var t=this;return new Promise(function(n){var o=t.noteUpdates.getValue();o.content.text=e,t.componentManager.saveItem(o,n)})}}]),e}());n(32);var O=function(e,t){var n=Object(o.useState)(!1),u=Object(r.a)(n,2),a=u[0],c=u[1];return Object(o.useEffect)(function(){if(null!=e){c(!0);var n=setTimeout(function(){c(!1)},t);return function(){clearTimeout(n)}}},[e,t]),a},j=function(){var e=Object(o.useState)(null),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(o.useState)(!0),s=Object(r.a)(c,2),f=s[0],l=s[1],m=Object(o.useState)(!1),p=Object(r.a)(m,2),b=p[0],v=p[1],j=O(n,2e3);return Object(o.useEffect)(function(){var e=d.getNoteContentUpdates().subscribe(function(e){j||(a(e),v(!1))});return function(){e.unsubscribe()}},[j]),Object(o.useEffect)(function(){null!==n&&l(!1)},[n]),Object(o.useEffect)(function(){null!==n&&b&&d.saveNoteContent(n)},[n,b]),u.a.createElement(u.a.Fragment,null,f?"LOADING":u.a.createElement(i.Controlled,{value:n,editorDidMount:function(e){e.refresh()},options:{mode:"markdown",keyMap:"vim"},onBeforeChange:function(e,t,n){v(!0),a(n)}}))};c.a.render(u.a.createElement(j,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.afc4f742.chunk.js.map